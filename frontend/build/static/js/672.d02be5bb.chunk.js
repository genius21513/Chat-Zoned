"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[672],{9436:function(e,s,t){t.r(s),t.d(s,{default:function(){return C}});var n=t(885),a=t(2791),r=t(4165),i=t(5861),o=t(4942),c=t(1413),l=t(2033),d=t(7689),m=t(6580),u=t(8745),p=t(8836),g=t(8400),f=t(2651),h=t(1130),b=t(9405),x=t(184),w=function(){var e=(0,b.C)(g.Pw),s=e.loading,t=e.disableIfLoading,w=e.formLabelClassName,j=e.formFieldClassName,N=e.inputFieldClassName,_=e.btnSubmitClassName,v=e.btnResetClassName,y=(0,b.T)(),P=(0,a.useState)(!1),C=(0,n.Z)(P,2),Z=C[0],k=C[1],S=(0,d.s0)(),F=(0,a.useState)({email:"",password:""}),I=(0,n.Z)(F,2),R=I[0],L=I[1],K=R.email,D=R.password,E=function(e){return function(s){L((0,c.Z)((0,c.Z)({},R),{},(0,o.Z)({},e,s.target.value)))}},M=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(s){var t,n,a,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),K&&D){e.next=3;break}return e.abrupt("return",y((0,f.Km)({message:"Please Enter All the Fields",type:"warning",duration:5e3,position:"bottom-center"})));case 3:return y((0,g.K4)(!0)),t=(0,h.uZ)({}),e.prev=5,e.next=8,l.Z.post("/api/user/login",{email:K,password:D},t);case 8:n=e.sent,a=n.data,y((0,f.Km)({title:"Login Successful",message:"Your login session will expire in 15 days",type:"success",duration:5e3,position:"bottom-center"})),localStorage.setItem("loggedInUser",JSON.stringify(a)),y((0,p.yM)(a)),y((0,g.K4)(!1)),S("/chats"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),y((0,f.Km)({title:"Login Failed",message:(null===(i=e.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||e.t0.message,type:"error",duration:5e3,position:"bottom-center"})),y((0,g.K4)(!1));case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(s){return e.apply(this,arguments)}}();return(0,x.jsxs)("form",{className:"app__form user-select-none row",style:{pointerEvents:s?"none":"auto"},children:[(0,x.jsxs)("section",{className:"".concat(j," mb-2 col-md-6"),children:[(0,x.jsxs)("label",{htmlFor:"login__email",className:"".concat(w),children:["Email ID ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsx)("input",{type:"email",value:K,onChange:E("email"),required:!0,autoFocus:!0,name:"email",id:"login__email",className:"".concat(N),placeholder:"Used While Registering"})]}),(0,x.jsxs)("section",{className:"".concat(j," mb-4 col-md-6"),children:[(0,x.jsxs)("label",{htmlFor:"login__password",className:"".concat(w),children:["Password ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsxs)("div",{className:"input-group",children:[(0,x.jsx)("input",{type:Z?"text":"password",value:D,onChange:E("password"),required:!0,name:"password",id:"login__password",className:"".concat(N," rounded-end"),placeholder:"Hope You Remember"}),(0,x.jsx)(u.Z,{disableIfLoading:t,showPassword:Z,setShowPassword:k})]})]}),(0,x.jsxs)("section",{className:"".concat(j," mb-3 d-flex justify-content-between"),children:[(0,x.jsx)("button",{type:"submit",name:"btnLogin",id:"login__btnLogin",onClick:M,className:"".concat(_),children:s?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.Z,{size:25,style:{color:"white",margin:"0px 15px 0px -20px"}}),"Signing in..."]}):"Login"}),(0,x.jsx)("button",{type:"reset",name:"btnReset",id:"login__btnReset",onClick:function(e){e.preventDefault(),L({email:"",password:""})},className:"".concat(v),children:"Reset"})]}),(0,x.jsx)("section",{className:"".concat(j," mb-2"),children:(0,x.jsx)("button",{name:"btnGetGuestCredentials",id:"login__btnGetGuestCredentials",onClick:function(e){e.preventDefault(),L({email:"guest.user@gmail.com",password:"guest@987"})},className:"btn btn-outline-success w-100 fs-4 p-1 rounded-pill",children:"Get Guest Credentials"})})]})},j=(0,t(1245).Z)((0,x.jsx)("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto"),N="https://res.cloudinary.com/djjsyxpvc/image/upload/v1664513823/avatars/logo_avatar_circle_blue_color_reaamg.png",_=function(){var e=(0,b.C)(g.Pw),s=e.loading,t=e.disableIfLoading,w=e.formLabelClassName,_=e.formFieldClassName,v=e.inputFieldClassName,y=e.btnSubmitClassName,P=e.btnResetClassName,C=(0,b.T)(),Z=(0,d.s0)(),k=(0,a.useState)(!1),S=(0,n.Z)(k,2),F=S[0],I=S[1],R=(0,a.useRef)(),L=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",profilePic:"",profilePicUrl:N}),K=(0,n.Z)(L,2),D=K[0],E=K[1],M=D.name,q=D.email,O=D.password,U=D.confirmPassword,G=D.profilePic,z=D.profilePicUrl,T=function(e){return function(s){E((0,c.Z)((0,c.Z)({},D),{},(0,o.Z)({},e,s.target.value)))}},V=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(s){var t,n,a,i,o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),M&&q&&O&&U){e.next=3;break}return e.abrupt("return",C((0,f.Km)({message:"Please Enter All the Fields",type:"warning",duration:3e3,position:"bottom-center"})));case 3:if(!(M.length>25)){e.next=5;break}return e.abrupt("return",C((0,f.Km)({message:"Name Must be Less than 25 characters",type:"warning",duration:3e3,position:"bottom-center"})));case 5:if(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(q)){e.next=7;break}return e.abrupt("return",C((0,f.Km)({message:"Please Enter a Valid Email ID",type:"warning",duration:3e3,position:"bottom-center"})));case 7:if(O===U){e.next=9;break}return e.abrupt("return",C((0,f.Km)({message:"Passwords Do Not Match",type:"warning",duration:3e3,position:"bottom-center"})));case 9:return C((0,g.K4)(!0)),t=(0,h.uZ)({formData:!0}),(n=new FormData).append("profilePic",G),n.append("name",M),n.append("email",q),n.append("password",O),e.prev=16,e.next=19,l.Z.post("/api/user/register",n,t);case 19:a=e.sent,i=a.data,C((0,f.Km)({title:"Registration Successful",message:"Your login session will expire in 15 days",type:"success",duration:5e3,position:"bottom-center"})),localStorage.setItem("loggedInUser",JSON.stringify(i)),C((0,p.yM)(i)),C((0,g.K4)(!1)),Z("/chats"),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(16),C((0,f.Km)({title:"Registration Failed",message:(null===(o=e.t0.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||e.t0.message,type:"error",duration:4e3,position:"bottom-center"})),C((0,g.K4)(!1));case 32:case"end":return e.stop()}}),e,null,[[16,28]])})));return function(s){return e.apply(this,arguments)}}();return(0,x.jsxs)("form",{className:"app__form user-select-none row ".concat(t),style:{pointerEvents:s?"none":"auto"},children:[(0,x.jsxs)("section",{className:"app__formfield position-relative mb-4",children:[(0,x.jsx)("img",{className:"userProfilePic img-fluid border border-2 border-primary rounded-circle mt-3",id:"register__imgProfile",src:z,alt:"profilePic"}),(0,x.jsx)("i",{id:"register__selectPic",className:"selectPicIcon position-absolute p-2 d-flex ".concat(t," justify-content-center align-items-center bg-success rounded-circle pointer"),onClick:function(){var e;s||null===R||void 0===R||null===(e=R.current)||void 0===e||e.click()},children:(0,x.jsx)(j,{className:"text-light fs-6"})}),(0,x.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){if(e&&e.target&&e.target.files){var s=e.target.files[0];if(s){if(!(0,h.CO)(s.name))return C((0,f.Km)({title:"Invalid Image File",message:"Please Select an Image File (png/jpg/jpeg/svg/webp)",type:"warning",duration:5e3,position:"bottom-center"}));if(s.size>=h.BO){if(!R||!R.current)return;return R.current.value="",C((0,f.Km)({message:"Please Select an Image Smaller than 2 MB",type:"warning",duration:3e3,position:"bottom-center"}))}E((0,c.Z)((0,c.Z)({},D),{},{profilePic:s,profilePicUrl:URL.createObjectURL(s)}))}}},name:"profilepic",id:"register__img_input",ref:R,className:"d-none"})]}),(0,x.jsxs)("section",{className:"".concat(_," mb-2 col-md-6 order-md-1"),children:[(0,x.jsxs)("label",{htmlFor:"register__username",className:"".concat(w),children:["Name ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsx)("input",{type:"text",value:M,onChange:T("name"),required:!0,name:"username",id:"register__username",className:"".concat(v),placeholder:"Eg: John Titor"})]}),(0,x.jsxs)("section",{className:"".concat(_," mb-2 col-md-6 order-md-3"),children:[(0,x.jsxs)("label",{htmlFor:"register__email",className:"".concat(w),children:["Email ID ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsx)("input",{type:"email",value:q,onChange:T("email"),required:!0,name:"email",id:"register__email",className:"".concat(v),placeholder:"Eg: john.titor@yahoo.com"})]}),(0,x.jsxs)("section",{className:"".concat(_," mb-2 col-md-6 order-md-2"),children:[(0,x.jsxs)("label",{htmlFor:"register__password",className:"".concat(w),children:["Password ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsxs)("div",{className:"input-group",children:[(0,x.jsx)("input",{type:F?"text":"password",value:O,onChange:T("password"),required:!0,name:"password",id:"register__password",className:"".concat(v," rounded-end"),placeholder:"Please Remember This"}),(0,x.jsx)(u.Z,{disableIfLoading:t,showPassword:F,setShowPassword:I})]})]}),(0,x.jsxs)("section",{className:"".concat(_," mb-4 col-md-6 order-md-4"),children:[(0,x.jsxs)("label",{htmlFor:"register__confirmpassword",className:"".concat(w),children:["Confirm Password ",(0,x.jsx)("span",{className:"required",children:"*"})]}),(0,x.jsxs)("div",{className:"input-group",children:[(0,x.jsx)("input",{type:F?"text":"password",value:U,onChange:T("confirmPassword"),required:!0,name:"confirmpassword",id:"register__confirmpassword",className:"".concat(v," rounded-end"),placeholder:"Must Match the Above"}),(0,x.jsx)(u.Z,{disableIfLoading:t,showPassword:F,setShowPassword:I})]})]}),(0,x.jsxs)("section",{className:"".concat(_," mb-2 d-flex justify-content-between order-last"),children:[(0,x.jsx)("button",{type:"submit",name:"btnRegister",id:"register__btnRegister",onClick:V,className:"".concat(y),children:s?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.Z,{size:25,style:{color:"white",margin:"0px 15px 0px -20px"}}),"Signing Up..."]}):"Register"}),(0,x.jsx)("button",{type:"reset",name:"btnReset",id:"register__btnReset",onClick:function(e){e.preventDefault(),E({name:"",email:"",password:"",confirmPassword:"",profilePic:"",profilePicUrl:N}),R&&R.current&&(R.current.value="")},className:"".concat(P),children:"Reset"})]})]})},v=t(4625),y=t(1324),P=(new Date).getFullYear(),C=function(){var e=(0,b.C)(p.p_).loggedInUser,s=(0,b.C)(g.Pw).disableIfLoading,t=(0,a.useRef)(),r=(0,a.useState)(!0),i=(0,n.Z)(r,2),o=i[0],c=i[1],l=(0,d.s0)();return(0,a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("loggedInUser"));e&&Date.now()<e.expiryTime&&l("/chats")}),[]),(0,x.jsxs)(x.Fragment,{children:[!e&&(0,x.jsxs)("section",{className:"homepage container-fluid d-flex flex-column p-4",children:[(0,x.jsxs)("section",{className:"homepage__header container pt-0 pb-2 ps-1 pe-4 mb-2 user-select-none",children:[(0,x.jsx)(v.Z,{ref:t,className:"d-inline-block me-2",style:{width:"35px",height:"35px"},animationData:y}),(0,x.jsx)("span",{className:"d-inline-block mt-2",children:"GSG"})]}),(0,x.jsxs)("section",{className:"app__body container p-2 mb-2 ".concat(s),children:[(0,x.jsxs)("div",{className:"container d-flex justify-content-between",children:[(0,x.jsx)("button",{className:"app__btnToggle fs-4 btn ".concat(o?"btn-warning":"text-light"," rounded-pill col m-1 ").concat(s),onMouseDown:function(){return c(!0)},children:"Login"}),(0,x.jsx)("button",{className:"app__btnToggle fs-4 btn ".concat(o?"text-light":"btn-warning"," rounded-pill col m-1 ").concat(s),onMouseDown:function(){return c(!1)},children:"Register"})]}),(0,x.jsx)("section",{className:"app__form container text-light p-2 ".concat(s),children:o?(0,x.jsx)(w,{}):(0,x.jsx)(_,{})})]})]}),o&&(0,x.jsxs)("div",{className:"footer fs-5 w-75 text-light",children:["\xa9 ",P," Made by \xa0",(0,x.jsx)("a",{id:"footerLink",className:"text-decoration-none",href:"https://github.com/Genius21513",target:"blank",children:(0,x.jsx)("strong",{children:"Genius"})})]})]})}},2554:function(e,s,t){t.d(s,{F4:function(){return r},iv:function(){return a}});t(2791),t(76),t(2110);var n=t(9140);t(2561);function a(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.O)(s)}var r=function(){var e=a.apply(void 0,arguments),s="animation-"+e.name;return{name:s,styles:"@keyframes "+s+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},168:function(e,s,t){function n(e,s){return s||(s=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(s)}}))}t.d(s,{Z:function(){return n}})}}]);
//# sourceMappingURL=672.d02be5bb.chunk.js.map